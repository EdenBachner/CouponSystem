{"ast":null,"code":"var _jsxFileName = \"/Users/eden_bachner/Full stack java/Final Project/\\u05E4\\u05E8\\u05D5\\u05D9\\u05E7\\u05D8 \\u05D2\\u05DE\\u05E8 \\u05D1spring/CouponSystemProject/src/App/Components/Users/Admin/AdminCompanies/AdminCompanies.js\",\n    _s = $RefreshSig$();\n\nimport './admin-companies.css';\nimport AutenticationService from \"../../../../../service/AutenticationService\";\nimport { useState, useEffect } from 'react';\nimport AdminService from '../../../../../service/AdminService';\nimport AdminCompaniesSidebar from './AdminCompanyesSidebar/AdminCompaniesSidebar';\nimport { Formik, Form } from 'formik';\nimport { Route, Switch } from 'react-router';\nimport AddCompany from \"./AddCompany/AddCompany\";\nimport UpdateCompany from \"./UpdateCompany/UpdateCompany\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AdminCompanies() {\n  _s();\n\n  const [updateCompany, setUpdateCompany] = useState({\n    id: '',\n    name: '',\n    email: '',\n    password: ''\n  });\n  const [comapny, setCompanies] = useState([{\n    id: '',\n    name: '',\n    email: ''\n  }]);\n  useEffect(() => {\n    AdminService.getAllCompanies().then(response => {\n      setCompanies(response.data);\n    }, error => {\n      try {\n        if (error.response.data.string) {\n          return;\n        }\n\n        if (error.response) {\n          alert(\"Login expired, please login again.\");\n          AutenticationService.logOut();\n        }\n      } catch {\n        alert(\"Servers are down, please try again later.\");\n        AutenticationService.logOut();\n      }\n    });\n  }, []);\n\n  const getComapnies = handleChange => {\n    if (comapny[0].id === '') return;\n    return comapny.map((interval, index) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"AdminCompanies-td\",\n          title: \"checked\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange,\n            type: \"checkbox\",\n            name: \"checked\",\n            value: interval.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 63\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"AdminCompanies-td\",\n          title: interval.id,\n          children: interval.id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"AdminCompanies-td\",\n          title: interval.name,\n          children: interval.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          className: \"AdminCompanies-td\",\n          title: interval.email,\n          children: interval.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this);\n    });\n  };\n\n  function addCompany() {\n    return /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin/companies/add-company\",\n        children: /*#__PURE__*/_jsxDEV(AddCompany, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin/companies/update-company\",\n        children: /*#__PURE__*/_jsxDEV(UpdateCompany, {\n          updateCompany: updateCompany\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin/companies\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"AdminCompanies\",\n          children: /*#__PURE__*/_jsxDEV(Formik, {\n            initialValues: {\n              checked: []\n            },\n            children: ({\n              handleChange,\n              values,\n              handleReset\n            }) => /*#__PURE__*/_jsxDEV(Form, {\n              children: [/*#__PURE__*/_jsxDEV(AdminCompaniesSidebar, {\n                setCompanies: setCompanies,\n                values: values,\n                handleReset: handleReset,\n                setUpdateCompany: setUpdateCompany\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"table\",\n                id: \"AdminCompanies-table\",\n                children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"5%\",\n                      className: \"AdminCompanies-table-th\",\n                      title: \"(Checkbox)\",\n                      children: \"ch\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 93,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"10%\",\n                      className: \"AdminCompanies-table-th\",\n                      title: \"id\",\n                      children: \"Id\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 94,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"42.5%\",\n                      className: \"AdminCompanies-table-th\",\n                      title: \"name\",\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      width: \"42.5%\",\n                      className: \"AdminCompanies-table-th\",\n                      title: \"email\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 92,\n                    columnNumber: 23\n                  }, this), getComapnies(handleChange)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: addCompany()\n  }, void 0, false);\n}\n\n_s(AdminCompanies, \"FsLLCnC85QHuyixES9akuKacrig=\");\n\n_c = AdminCompanies;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminCompanies\");","map":{"version":3,"sources":["/Users/eden_bachner/Full stack java/Final Project/פרויקט גמר בspring/CouponSystemProject/src/App/Components/Users/Admin/AdminCompanies/AdminCompanies.js"],"names":["AutenticationService","useState","useEffect","AdminService","AdminCompaniesSidebar","Formik","Form","Route","Switch","AddCompany","UpdateCompany","AdminCompanies","updateCompany","setUpdateCompany","id","name","email","password","comapny","setCompanies","getAllCompanies","then","response","data","error","string","alert","logOut","getComapnies","handleChange","map","interval","index","addCompany","checked","values","handleReset"],"mappings":"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","sourcesContent":["import './admin-companies.css';\nimport AutenticationService from \"../../../../../service/AutenticationService\";\nimport { useState, useEffect } from 'react';\nimport AdminService from '../../../../../service/AdminService';\nimport AdminCompaniesSidebar from './AdminCompanyesSidebar/AdminCompaniesSidebar';\nimport { Formik, Form } from 'formik'\nimport { Route, Switch } from 'react-router';\nimport AddCompany from \"./AddCompany/AddCompany\";\nimport UpdateCompany from \"./UpdateCompany/UpdateCompany\";\n\n\n\nexport default function AdminCompanies() {\n\n  const [updateCompany, setUpdateCompany] = useState({\n    id: '',\n    name: '',\n    email: '',\n    password: '',\n\n  })\n\n\n  const [comapny, setCompanies] = useState([{\n    id: '',\n    name: '',\n    email: '',\n  }])\n\n\n  useEffect(() => {\n\n    AdminService.getAllCompanies().then(\n      response => {\n        setCompanies(response.data);\n      },\n      (error) => {\n        try {\n          if (error.response.data.string) {\n            return;\n          }\n          if (error.response) {\n            alert(\"Login expired, please login again.\");\n            AutenticationService.logOut();\n          }\n        } catch {\n          alert(\"Servers are down, please try again later.\");\n          AutenticationService.logOut();\n        }\n      }\n    )\n  }, [])\n\n  const getComapnies = (handleChange) => {\n    if (comapny[0].id === '')\n      return\n    return (\n      comapny.map((interval, index) => {\n        return (\n          <tr key={index}>\n            <td className=\"AdminCompanies-td\" title=\"checked\"><input onChange={handleChange} type=\"checkbox\" name=\"checked\" value={interval.id} /></td>\n            <td className=\"AdminCompanies-td\" title={interval.id}>{interval.id}</td>\n            <td className=\"AdminCompanies-td\" title={interval.name}>{interval.name}</td>\n            <td className=\"AdminCompanies-td\" title={interval.email}>{interval.email}</td>\n          </tr>\n        )\n      })\n    )\n  }\n\n  function addCompany() {\n\n    return (\n      <Switch>\n        <Route path=\"/admin/companies/add-company\">\n          <AddCompany />\n        </Route>\n        <Route path=\"/admin/companies/update-company\">\n          <UpdateCompany updateCompany={updateCompany} />\n        </Route>\n        <Route path=\"/admin/companies\">\n          <div className=\"AdminCompanies\">\n            <Formik\n              initialValues={{ checked: [] }}\n            >\n              {({ handleChange, values, handleReset }) => (\n                <Form >\n\n                  <AdminCompaniesSidebar setCompanies={setCompanies} values={values} handleReset={handleReset} setUpdateCompany={setUpdateCompany} />\n                  <table className=\"table\" id=\"AdminCompanies-table\">\n                    <tbody>\n                      <tr>\n                        <th width=\"5%\" className=\"AdminCompanies-table-th\" title=\"(Checkbox)\">ch</th>\n                        <th width=\"10%\" className=\"AdminCompanies-table-th\" title=\"id\">Id</th>\n                        <th width=\"42.5%\" className=\"AdminCompanies-table-th\" title=\"name\">Name</th>\n                        <th width=\"42.5%\" className=\"AdminCompanies-table-th\" title=\"email\">Email</th>\n                      </tr>\n                      {getComapnies(handleChange)}\n                    </tbody>\n                  </table>\n                </Form>\n              )}\n            </Formik >\n\n          </div>\n        </Route>\n      </Switch>\n    )\n  }\n\n\n  return (\n\n    <>\n      {addCompany()}\n    </>\n\n  )\n\n}\n\n"]},"metadata":{},"sourceType":"module"}