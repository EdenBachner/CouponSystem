{"ast":null,"code":"var _jsxFileName = \"/Users/eden_bachner/Full stack java/Final Project/\\u05E4\\u05E8\\u05D5\\u05D9\\u05E7\\u05D8 \\u05D2\\u05DE\\u05E8 \\u05D1spring/CouponSystemProject/src/App/Components/Users/Admin/AdminCustomers/AdminCustomersSidebar/AdminCustomersSidebar.js\";\nimport \"../../../../../../styles/sidebar.css\";\nimport AdminService from \"../../../../../../service/AdminService\";\nimport AutenticationService from \"../../../../../../service/AutenticationService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AdminCustomersSidebar(props) {\n  const handleAllCustomer = () => {\n    AdminService.getAllCustomers().then(response => {\n      props.setCustomers(response.data);\n    }, error => {\n      try {\n        if (error.response.data.string) {\n          alert(\"There are no customers\");\n          return;\n        }\n\n        if (error.response) {\n          alert(\"Login expired, please login again.\");\n          AutenticationService.logOut();\n        }\n      } catch {\n        alert(\"Servers are down, please try again later.\");\n        AutenticationService.logOut();\n      }\n    });\n  };\n\n  const handleSearchById = () => {\n    const input = prompt(\"Enter ID: \");\n\n    if (input === null) {\n      return;\n    }\n\n    if (isNaN(input) || input.includes(\" \") || input === \"\") {\n      alert(\"Please insert a numeric value\");\n      return;\n    }\n\n    if (input < 1) {\n      alert(\"The minimum value needs to be at least 1\");\n      return;\n    }\n\n    console.log(input);\n    AdminService.getOneCustomerByCustomerId(input).then(response => {\n      props.setCustomers([response.data]);\n      props.handleReset();\n    }, error => {\n      try {\n        if (error.response.data.string) {\n          alert(\"The customer with the id \" + input + \" does not exist\");\n          return;\n        }\n\n        if (error.response) {\n          alert(\"Login expired, please login again.\");\n          AutenticationService.logOut();\n        }\n      } catch {\n        alert(\"Servers are down, please try again later.\");\n        AutenticationService.logOut();\n      }\n    });\n  };\n\n  const handleSearchByEmail = () => {\n    const input = prompt(\"Enter Email: \");\n\n    if (input === null) {\n      return;\n    }\n\n    const lowlInput = input.toLowerCase();\n    AdminService.getCustomerByEmail(lowlInput).then(response => {\n      props.setCustomers([response.data]);\n    }, error => {\n      try {\n        if (error.response.data.string) {\n          alert(\"There is no customer with the email \" + input);\n          return;\n        }\n\n        if (error.response) {\n          alert(\"Login expired, please login again.\");\n          AutenticationService.logOut();\n        }\n      } catch {\n        alert(\"Servers are down, please try again later.\");\n        AutenticationService.logOut();\n      }\n    });\n  };\n\n  const deleteCustomer = () => {\n    for (let customerId of Object.values(props.values.checked)) {\n      AdminService.deleteCustomer(customerId).then(response => {\n        alert(\"Customer with the id \" + customerId + \" deleted successfully\");\n        handleAllCustomer();\n      }, error => {\n        try {\n          if (error.response.data.string) {\n            alert(error.response.data.string);\n            return;\n          }\n\n          if (error.response) {\n            alert(\"Login expired, please login again.\");\n            AutenticationService.logOut();\n          }\n        } catch {\n          alert(\"Servers are down, please try again later.\");\n          AutenticationService.logOut();\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar-top\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"side-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-bar-div\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"side-bar-button\",\n          title: \"All Coupons\",\n          onClick: handleAllCustomer,\n          children: \"All Customers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-bar-div\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"side-bar-button\",\n          title: \"Coupons By Category\",\n          onClick: handleSearchById,\n          children: \"Search By Id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-bar-div\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"side-bar-button\",\n          title: \"All Coupons\",\n          onClick: handleSearchByEmail,\n          children: \"Serch By Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-bar-div\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"side-bar-button\",\n          title: \"All Coupons\",\n          onClick: () => history.push(\"/admin/customers/add-customer\"),\n          children: \"Add Customer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-bar-div\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"side-bar-button\",\n          title: \"All Coupons\",\n          children: \"Update Customer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side-bar-div\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"side-bar-button\",\n          title: \"All Coupons\",\n          onClick: deleteCustomer,\n          children: \"Delete Customer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_c = AdminCustomersSidebar;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminCustomersSidebar\");","map":{"version":3,"sources":["/Users/eden_bachner/Full stack java/Final Project/פרויקט גמר בspring/CouponSystemProject/src/App/Components/Users/Admin/AdminCustomers/AdminCustomersSidebar/AdminCustomersSidebar.js"],"names":["AdminService","AutenticationService","AdminCustomersSidebar","props","handleAllCustomer","getAllCustomers","then","response","setCustomers","data","error","string","alert","logOut","handleSearchById","input","prompt","isNaN","includes","console","log","getOneCustomerByCustomerId","handleReset","handleSearchByEmail","lowlInput","toLowerCase","getCustomerByEmail","deleteCustomer","customerId","Object","values","checked","history","push"],"mappings":";AAAA,OAAO,sCAAP;AACA,OAAOA,YAAP,MAAyB,wCAAzB;AACA,OAAOC,oBAAP,MAAiC,gDAAjC;;;AAGA,eAAe,SAASC,qBAAT,CAA+BC,KAA/B,EAAsC;AAEnD,QAAMC,iBAAiB,GAAG,MAAM;AAC9BJ,IAAAA,YAAY,CAACK,eAAb,GAA+BC,IAA/B,CACEC,QAAQ,IAAI;AACVJ,MAAAA,KAAK,CAACK,YAAN,CAAmBD,QAAQ,CAACE,IAA5B;AACD,KAHH,EAIGC,KAAD,IAAW;AACT,UAAI;AACF,YAAIA,KAAK,CAACH,QAAN,CAAeE,IAAf,CAAoBE,MAAxB,EAAgC;AAC9BC,UAAAA,KAAK,CAAC,wBAAD,CAAL;AACA;AACD;;AACD,YAAIF,KAAK,CAACH,QAAV,EAAoB;AAClBK,UAAAA,KAAK,CAAC,oCAAD,CAAL;AACAX,UAAAA,oBAAoB,CAACY,MAArB;AACD;AACF,OATD,CASE,MAAM;AACND,QAAAA,KAAK,CAAC,2CAAD,CAAL;AACAX,QAAAA,oBAAoB,CAACY,MAArB;AACD;AACF,KAlBH;AAoBD,GArBD;;AAuBA,QAAMC,gBAAgB,GAAG,MAAM;AAC7B,UAAMC,KAAK,GAAGC,MAAM,CAAC,YAAD,CAApB;;AACA,QAAID,KAAK,KAAK,IAAd,EAAoB;AAClB;AACD;;AACD,QAAIE,KAAK,CAACF,KAAD,CAAL,IAAgBA,KAAK,CAACG,QAAN,CAAe,GAAf,CAAhB,IAAuCH,KAAK,KAAK,EAArD,EAAyD;AACvDH,MAAAA,KAAK,CAAC,+BAAD,CAAL;AACA;AACD;;AACD,QAAIG,KAAK,GAAG,CAAZ,EAAe;AACbH,MAAAA,KAAK,CAAC,0CAAD,CAAL;AACA;AACD;;AACDO,IAAAA,OAAO,CAACC,GAAR,CAAYL,KAAZ;AACAf,IAAAA,YAAY,CAACqB,0BAAb,CAAwCN,KAAxC,EAA+CT,IAA/C,CACEC,QAAQ,IAAI;AACVJ,MAAAA,KAAK,CAACK,YAAN,CAAmB,CAACD,QAAQ,CAACE,IAAV,CAAnB;AACAN,MAAAA,KAAK,CAACmB,WAAN;AACD,KAJH,EAKGZ,KAAD,IAAW;AACT,UAAI;AACF,YAAIA,KAAK,CAACH,QAAN,CAAeE,IAAf,CAAoBE,MAAxB,EAAgC;AAC9BC,UAAAA,KAAK,CAAC,8BAA8BG,KAA9B,GAAsC,iBAAvC,CAAL;AACA;AACD;;AACD,YAAIL,KAAK,CAACH,QAAV,EAAoB;AAClBK,UAAAA,KAAK,CAAC,oCAAD,CAAL;AACAX,UAAAA,oBAAoB,CAACY,MAArB;AACD;AACF,OATD,CASE,MAAM;AACND,QAAAA,KAAK,CAAC,2CAAD,CAAL;AACAX,QAAAA,oBAAoB,CAACY,MAArB;AACD;AACF,KAnBH;AAsBD,GApCD;;AAuCA,QAAMU,mBAAmB,GAAG,MAAM;AAChC,UAAMR,KAAK,GAAGC,MAAM,CAAC,eAAD,CAApB;;AACA,QAAID,KAAK,KAAK,IAAd,EAAoB;AAClB;AACD;;AACD,UAAMS,SAAS,GAAGT,KAAK,CAACU,WAAN,EAAlB;AACAzB,IAAAA,YAAY,CAAC0B,kBAAb,CAAgCF,SAAhC,EAA2ClB,IAA3C,CACEC,QAAQ,IAAI;AACVJ,MAAAA,KAAK,CAACK,YAAN,CAAmB,CAACD,QAAQ,CAACE,IAAV,CAAnB;AACD,KAHH,EAIGC,KAAD,IAAW;AACT,UAAI;AACF,YAAIA,KAAK,CAACH,QAAN,CAAeE,IAAf,CAAoBE,MAAxB,EAAgC;AAC9BC,UAAAA,KAAK,CAAC,yCAAyCG,KAA1C,CAAL;AACA;AACD;;AACD,YAAIL,KAAK,CAACH,QAAV,EAAoB;AAClBK,UAAAA,KAAK,CAAC,oCAAD,CAAL;AACAX,UAAAA,oBAAoB,CAACY,MAArB;AACD;AACF,OATD,CASE,MAAM;AACND,QAAAA,KAAK,CAAC,2CAAD,CAAL;AACAX,QAAAA,oBAAoB,CAACY,MAArB;AACD;AACF,KAlBH;AAoBD,GA1BD;;AA4BA,QAAMc,cAAc,GAAG,MAAM;AAC3B,SAAK,IAAIC,UAAT,IAAuBC,MAAM,CAACC,MAAP,CAAc3B,KAAK,CAAC2B,MAAN,CAAaC,OAA3B,CAAvB,EAA4D;AAC1D/B,MAAAA,YAAY,CAAC2B,cAAb,CAA4BC,UAA5B,EAAwCtB,IAAxC,CACGC,QAAD,IAAc;AACZK,QAAAA,KAAK,CAAC,0BAA0BgB,UAA1B,GAAuC,uBAAxC,CAAL;AACAxB,QAAAA,iBAAiB;AAElB,OALH,EAMGM,KAAD,IAAW;AACT,YAAI;AACF,cAAIA,KAAK,CAACH,QAAN,CAAeE,IAAf,CAAoBE,MAAxB,EAAgC;AAC9BC,YAAAA,KAAK,CAACF,KAAK,CAACH,QAAN,CAAeE,IAAf,CAAoBE,MAArB,CAAL;AACA;AACD;;AACD,cAAID,KAAK,CAACH,QAAV,EAAoB;AAClBK,YAAAA,KAAK,CAAC,oCAAD,CAAL;AACAX,YAAAA,oBAAoB,CAACY,MAArB;AACD;AACF,SATD,CASE,MAAM;AACND,UAAAA,KAAK,CAAC,2CAAD,CAAL;AACAX,UAAAA,oBAAoB,CAACY,MAArB;AACD;AACF,OApBH;AAsBD;AACF,GAzBD;;AA2BA,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,iBAAlB;AAAoC,UAAA,KAAK,EAAC,aAA1C;AAAwD,UAAA,OAAO,EAAET,iBAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAME;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,iBAAlB;AAAoC,UAAA,KAAK,EAAC,qBAA1C;AAAgE,UAAA,OAAO,EAAEU,gBAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cANF,eAWE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,iBAAlB;AAAoC,UAAA,KAAK,EAAC,aAA1C;AAAwD,UAAA,OAAO,EAAES,mBAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAXF,eAgBE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,iBAAlB;AAAoC,UAAA,KAAK,EAAC,aAA1C;AAAwD,UAAA,OAAO,EAAE,MAAMS,OAAO,CAACC,IAAR,CAAa,+BAAb,CAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAhBF,eAqBE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,iBAAlB;AAAoC,UAAA,KAAK,EAAC,aAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cArBF,eA0BE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,+BACE;AAAQ,UAAA,SAAS,EAAC,iBAAlB;AAAoC,UAAA,KAAK,EAAC,aAA1C;AAAwD,UAAA,OAAO,EAAEN,cAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA1BF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA,kBADF;AAsCD;KA7JuBzB,qB","sourcesContent":["import \"../../../../../../styles/sidebar.css\";\nimport AdminService from \"../../../../../../service/AdminService\";\nimport AutenticationService from \"../../../../../../service/AutenticationService\";\n\n\nexport default function AdminCustomersSidebar(props) {\n\n  const handleAllCustomer = () => {\n    AdminService.getAllCustomers().then(\n      response => {\n        props.setCustomers(response.data);\n      },\n      (error) => {\n        try {\n          if (error.response.data.string) {\n            alert(\"There are no customers\")\n            return;\n          }\n          if (error.response) {\n            alert(\"Login expired, please login again.\");\n            AutenticationService.logOut();\n          }\n        } catch {\n          alert(\"Servers are down, please try again later.\");\n          AutenticationService.logOut();\n        }\n      }\n    )\n  }\n\n  const handleSearchById = () => {\n    const input = prompt(\"Enter ID: \")\n    if (input === null) {\n      return\n    }\n    if (isNaN(input) || input.includes(\" \") || input === \"\") {\n      alert(\"Please insert a numeric value\")\n      return\n    }\n    if (input < 1) {\n      alert(\"The minimum value needs to be at least 1\")\n      return\n    }\n    console.log(input)\n    AdminService.getOneCustomerByCustomerId(input).then(\n      response => {\n        props.setCustomers([response.data]);\n        props.handleReset();\n      },\n      (error) => {\n        try {\n          if (error.response.data.string) {\n            alert(\"The customer with the id \" + input + \" does not exist\")\n            return;\n          }\n          if (error.response) {\n            alert(\"Login expired, please login again.\");\n            AutenticationService.logOut();\n          }\n        } catch {\n          alert(\"Servers are down, please try again later.\");\n          AutenticationService.logOut();\n        }\n      }\n    )\n\n  }\n\n\n  const handleSearchByEmail = () => {\n    const input = prompt(\"Enter Email: \")\n    if (input === null) {\n      return\n    }\n    const lowlInput = input.toLowerCase();\n    AdminService.getCustomerByEmail(lowlInput).then(\n      response => {\n        props.setCustomers([response.data]);\n      },\n      (error) => {\n        try {\n          if (error.response.data.string) {\n            alert(\"There is no customer with the email \" + input);\n            return;\n          }\n          if (error.response) {\n            alert(\"Login expired, please login again.\");\n            AutenticationService.logOut();\n          }\n        } catch {\n          alert(\"Servers are down, please try again later.\");\n          AutenticationService.logOut();\n        }\n      }\n    )\n  }\n\n  const deleteCustomer = () => {\n    for (let customerId of Object.values(props.values.checked)) {\n      AdminService.deleteCustomer(customerId).then(\n        (response) => {\n          alert(\"Customer with the id \" + customerId + \" deleted successfully\")\n          handleAllCustomer()\n\n        },\n        (error) => {\n          try {\n            if (error.response.data.string) {\n              alert(error.response.data.string);\n              return;\n            }\n            if (error.response) {\n              alert(\"Login expired, please login again.\");\n              AutenticationService.logOut();\n            }\n          } catch {\n            alert(\"Servers are down, please try again later.\");\n            AutenticationService.logOut();\n          }\n        }\n      );\n    }\n  }\n\n  return (\n    <>\n      <div className=\"sidebar-top\"></div>\n      <div className=\"side-bar\">\n        <div className=\"side-bar-div\">\n          <button className=\"side-bar-button\" title=\"All Coupons\" onClick={handleAllCustomer}>\n            All Customers\n        </button>\n        </div>\n        <div className=\"side-bar-div\">\n          <button className=\"side-bar-button\" title=\"Coupons By Category\" onClick={handleSearchById}>\n            Search By Id\n        </button>\n        </div>\n        <div className=\"side-bar-div\">\n          <button className=\"side-bar-button\" title=\"All Coupons\" onClick={handleSearchByEmail}>\n            Serch By Email\n        </button>\n        </div>\n        <div className=\"side-bar-div\">\n          <button className=\"side-bar-button\" title=\"All Coupons\" onClick={() => history.push(\"/admin/customers/add-customer\")}>\n            Add Customer\n        </button>\n        </div>\n        <div className=\"side-bar-div\">\n          <button className=\"side-bar-button\" title=\"All Coupons\">\n            Update Customer\n        </button>\n        </div>\n        <div className=\"side-bar-div\">\n          <button className=\"side-bar-button\" title=\"All Coupons\" onClick={deleteCustomer}>\n            Delete Customer\n        </button>\n        </div>\n      </div>\n\n    </>\n  );\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}